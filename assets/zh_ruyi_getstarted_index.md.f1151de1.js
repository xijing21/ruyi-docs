import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.76cb5871.js";const u=JSON.parse('{"title":"开始","description":"","frontmatter":{},"headers":[],"relativePath":"zh/ruyi/getstarted/index.md","filePath":"zh/ruyi/getstarted/index.md","lastUpdated":1702437870000}'),p={name:"zh/ruyi/getstarted/index.md"},o=l(`<h1 id="开始" tabindex="-1">开始 <a class="header-anchor" href="#开始" aria-label="Permalink to &quot;开始&quot;">​</a></h1><h2 id="安装依赖软件" tabindex="-1">安装依赖软件 <a class="header-anchor" href="#安装依赖软件" aria-label="Permalink to &quot;安装依赖软件&quot;">​</a></h2><p>RUYI 包管理器依赖一些外部工具，需要手动安装</p><p><strong>Debian/Ubuntu</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apt-get</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bzip2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">xz-utils</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zstd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apt-get</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tar</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bzip2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">xz-utils</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zstd</span></span></code></pre></div><p><strong>Fedora/openEuler</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apt-get</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bzip2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">xz</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zstd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apt-get</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tar</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bzip2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">xz</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zstd</span></span></code></pre></div><h2 id="安装-ruyi-包管理器" tabindex="-1">安装 RUYI 包管理器 <a class="header-anchor" href="#安装-ruyi-包管理器" aria-label="Permalink to &quot;安装 RUYI 包管理器&quot;">​</a></h2><p>从发布<a href="https://mirror.iscas.ac.cn/ruyisdk/ruyi/testing/" target="_blank" rel="noreferrer">镜像</a>中选择合适架构的预编译二进制下载，当前 RUYI 包管理支持 amd64 和 riscv64 架构编译环境。</p><p>v0.2 版本的稳定二进制为 0.2.0-beta.20231207 版本。</p><p>这里以 amd64 架构环境为例进行安装：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://mirror.iscas.ac.cn/ruyisdk/ruyi/testing/ruyi.amd64.20231207</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">./ruyi.amd64.20231207</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi.amd64.20231207</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin/ruyi</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span></span>
<span class="line"><span style="color:#B392F0;">Ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span><span style="color:#9ECBFF;">.0-beta.20231207</span></span>
<span class="line"><span style="color:#B392F0;">Copyright</span><span style="color:#E1E4E8;"> (C) 2023 Institute of Software, Chinese Academy of Sciences (</span><span style="color:#B392F0;">ISCAS</span><span style="color:#E1E4E8;">).</span></span>
<span class="line"><span style="color:#B392F0;">All</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rights</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">reserved.</span></span>
<span class="line"><span style="color:#B392F0;">License:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Apache-2.0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">https://www.apache.org/licenses/LICENSE-2.</span><span style="color:#F97583;">0&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://mirror.iscas.ac.cn/ruyisdk/ruyi/testing/ruyi.amd64.20231207</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">chmod</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">./ruyi.amd64.20231207</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi.amd64.20231207</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin/ruyi</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span></span>
<span class="line"><span style="color:#6F42C1;">Ruyi</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span><span style="color:#032F62;">.0-beta.20231207</span></span>
<span class="line"><span style="color:#6F42C1;">Copyright</span><span style="color:#24292E;"> (C) 2023 Institute of Software, Chinese Academy of Sciences (</span><span style="color:#6F42C1;">ISCAS</span><span style="color:#24292E;">).</span></span>
<span class="line"><span style="color:#6F42C1;">All</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rights</span><span style="color:#24292E;"> </span><span style="color:#032F62;">reserved.</span></span>
<span class="line"><span style="color:#6F42C1;">License:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Apache-2.0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">https://www.apache.org/licenses/LICENSE-2.</span><span style="color:#D73A49;">0&gt;</span></span></code></pre></div><p><code>ruyi version</code> 应当可以正常打印版本信息。注意二进制的文件名必须为 <code>ruyi</code> 。</p><p>列出帮助信息：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--help</span></span>
<span class="line"><span style="color:#B392F0;">usage:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> [-h] [-V] {</span><span style="color:#B392F0;">extract,install,i,list,update,venv,admin,self,version}</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">RuyiSDK</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Package</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Manager</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.2</span><span style="color:#9ECBFF;">.0-beta.20231207</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">options:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-h,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--help</span><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">this</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">help</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">message</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">exit</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-V,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--version</span><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">Print</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">information</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">subcommands:</span></span>
<span class="line"><span style="color:#E1E4E8;">  {</span><span style="color:#B392F0;">extract,install,i,list,update,venv,admin,self,version}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">extract</span><span style="color:#E1E4E8;">             </span><span style="color:#9ECBFF;">Fetch</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">package</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">s</span><span style="color:#E1E4E8;">) </span><span style="color:#9ECBFF;">then</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">extract</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">current</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">directory</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">install</span><span style="color:#E1E4E8;"> (i)         Install package from configured repository</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">list</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">List</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">available</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">packages</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">configured</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repository</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">update</span><span style="color:#E1E4E8;">              </span><span style="color:#9ECBFF;">Update</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RuyiSDK</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">packages</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">venv</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">Generate</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">virtual</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">environment</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">adapted</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">chosen</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">toolchain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">and</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">profile</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">admin</span><span style="color:#E1E4E8;">               (NOT </span><span style="color:#9ECBFF;">FOR</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">REGULAR</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">USERS</span><span style="color:#E1E4E8;">) Subcommands </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> managing Ruyi repos</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">self</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">Manage</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">this</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">installation</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">version</span><span style="color:#E1E4E8;">             </span><span style="color:#9ECBFF;">Print</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">information</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--help</span></span>
<span class="line"><span style="color:#6F42C1;">usage:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> [-h] [-V] {</span><span style="color:#6F42C1;">extract,install,i,list,update,venv,admin,self,version}</span><span style="color:#24292E;"> </span><span style="color:#032F62;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">RuyiSDK</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Package</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Manager</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.2</span><span style="color:#032F62;">.0-beta.20231207</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">options:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-h,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--help</span><span style="color:#24292E;">            </span><span style="color:#032F62;">show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">this</span><span style="color:#24292E;"> </span><span style="color:#032F62;">help</span><span style="color:#24292E;"> </span><span style="color:#032F62;">message</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">exit</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-V,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--version</span><span style="color:#24292E;">         </span><span style="color:#032F62;">Print</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#032F62;">information</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">subcommands:</span></span>
<span class="line"><span style="color:#24292E;">  {</span><span style="color:#6F42C1;">extract,install,i,list,update,venv,admin,self,version}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">extract</span><span style="color:#24292E;">             </span><span style="color:#032F62;">Fetch</span><span style="color:#24292E;"> </span><span style="color:#032F62;">package</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">s</span><span style="color:#24292E;">) </span><span style="color:#032F62;">then</span><span style="color:#24292E;"> </span><span style="color:#032F62;">extract</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">current</span><span style="color:#24292E;"> </span><span style="color:#032F62;">directory</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">install</span><span style="color:#24292E;"> (i)         Install package from configured repository</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">list</span><span style="color:#24292E;">                </span><span style="color:#032F62;">List</span><span style="color:#24292E;"> </span><span style="color:#032F62;">available</span><span style="color:#24292E;"> </span><span style="color:#032F62;">packages</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">configured</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repository</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">              </span><span style="color:#032F62;">Update</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RuyiSDK</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">packages</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">venv</span><span style="color:#24292E;">                </span><span style="color:#032F62;">Generate</span><span style="color:#24292E;"> </span><span style="color:#032F62;">a</span><span style="color:#24292E;"> </span><span style="color:#032F62;">virtual</span><span style="color:#24292E;"> </span><span style="color:#032F62;">environment</span><span style="color:#24292E;"> </span><span style="color:#032F62;">adapted</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">chosen</span><span style="color:#24292E;"> </span><span style="color:#032F62;">toolchain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">and</span><span style="color:#24292E;"> </span><span style="color:#032F62;">profile</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">admin</span><span style="color:#24292E;">               (NOT </span><span style="color:#032F62;">FOR</span><span style="color:#24292E;"> </span><span style="color:#032F62;">REGULAR</span><span style="color:#24292E;"> </span><span style="color:#032F62;">USERS</span><span style="color:#24292E;">) Subcommands </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> managing Ruyi repos</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">self</span><span style="color:#24292E;">                </span><span style="color:#032F62;">Manage</span><span style="color:#24292E;"> </span><span style="color:#032F62;">this</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">installation</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">version</span><span style="color:#24292E;">             </span><span style="color:#032F62;">Print</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span><span style="color:#24292E;"> </span><span style="color:#032F62;">information</span></span></code></pre></div><h2 id="刷新软件包缓存" tabindex="-1">刷新软件包缓存 <a class="header-anchor" href="#刷新软件包缓存" aria-label="Permalink to &quot;刷新软件包缓存&quot;">​</a></h2><p>更新软件包缓存，使用默认镜像即可：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span></span></code></pre></div><p>软件包缓存将存放在用户目录中，通常为 <code>~/.cache/ruyi</code> ；在 <code>XDG_CACHE_HOME</code> 环境变量被设置时，目录为 <code>$XDG_CACHE_HOME/ruyi</code> 。 在本文档中家目录为 <code>/home/myon</code> 。</p><p>查看可用的软件包，该命令将列出所有可用的软件包：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span></span>
<span class="line"><span style="color:#B392F0;">List</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">available</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">packages:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> source/ruyisdk-demo</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.20231114</span><span style="color:#9ECBFF;">.0</span><span style="color:#E1E4E8;"> (latest)</span></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> source/coremark</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.0</span><span style="color:#9ECBFF;">.2-pre.20230125</span><span style="color:#E1E4E8;"> (prerelease, </span><span style="color:#9ECBFF;">latest-prerelease</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1.0</span><span style="color:#9ECBFF;">.1</span><span style="color:#E1E4E8;"> (latest)</span></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> emulator/qemu-user-riscv-xthead</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">6.1</span><span style="color:#9ECBFF;">.0-ruyi.20231207+g03813c9fe8</span><span style="color:#E1E4E8;"> (latest)</span></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> emulator/qemu-user-riscv-upstream</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">8.1</span><span style="color:#9ECBFF;">.2-ruyi.20231121</span><span style="color:#E1E4E8;"> (latest)</span></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> toolchain/gnu-plct</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.20231118</span><span style="color:#9ECBFF;">.0</span><span style="color:#E1E4E8;"> (latest) slug: gnu-plct-20231118</span></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> toolchain/gnu-plct-xthead</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.20231118</span><span style="color:#9ECBFF;">.0</span><span style="color:#E1E4E8;"> (latest) slug: gnu-plct-xthead-20231118</span></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> toolchain/gnu-upstream</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.20231118</span><span style="color:#9ECBFF;">.0</span><span style="color:#E1E4E8;"> (latest) slug: gnu-upstream-20231118</span></span>
<span class="line"><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> toolchain/llvm-upstream</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">17.0</span><span style="color:#9ECBFF;">.5-ruyi.20231121</span><span style="color:#E1E4E8;"> (latest) slug: llvm-upstream-20231121</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span></span>
<span class="line"><span style="color:#6F42C1;">List</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">available</span><span style="color:#24292E;"> </span><span style="color:#032F62;">packages:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> source/ruyisdk-demo</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.20231114</span><span style="color:#032F62;">.0</span><span style="color:#24292E;"> (latest)</span></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> source/coremark</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.0</span><span style="color:#032F62;">.2-pre.20230125</span><span style="color:#24292E;"> (prerelease, </span><span style="color:#032F62;">latest-prerelease</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1.0</span><span style="color:#032F62;">.1</span><span style="color:#24292E;"> (latest)</span></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> emulator/qemu-user-riscv-xthead</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">6.1</span><span style="color:#032F62;">.0-ruyi.20231207+g03813c9fe8</span><span style="color:#24292E;"> (latest)</span></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> emulator/qemu-user-riscv-upstream</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">8.1</span><span style="color:#032F62;">.2-ruyi.20231121</span><span style="color:#24292E;"> (latest)</span></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> toolchain/gnu-plct</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.20231118</span><span style="color:#032F62;">.0</span><span style="color:#24292E;"> (latest) slug: gnu-plct-20231118</span></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> toolchain/gnu-plct-xthead</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.20231118</span><span style="color:#032F62;">.0</span><span style="color:#24292E;"> (latest) slug: gnu-plct-xthead-20231118</span></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> toolchain/gnu-upstream</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.20231118</span><span style="color:#032F62;">.0</span><span style="color:#24292E;"> (latest) slug: gnu-upstream-20231118</span></span>
<span class="line"><span style="color:#D73A49;">*</span><span style="color:#24292E;"> toolchain/llvm-upstream</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">17.0</span><span style="color:#032F62;">.5-ruyi.20231121</span><span style="color:#24292E;"> (latest) slug: llvm-upstream-20231121</span></span></code></pre></div><p>从输出可以看到软件包共分为三种，其中 <code>source</code> 代表了软件源码包， <code>toolchain</code> 代表了工具链二进制包， <code>emulator</code> 代表了模拟器二进制包。</p><p>如果软件包显示 “no binary for current host” 则该软件包的当前版本不支持本机架构。</p><p>列出所有软件包的详细信息：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span></span></code></pre></div><h3 id="安装软件包" tabindex="-1">安装软件包 <a class="header-anchor" href="#安装软件包" aria-label="Permalink to &quot;安装软件包&quot;">​</a></h3><p>使用 <code>install</code> 命令安装软件包，如 GNU 上游工具链：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gnu-upstream</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gnu-upstream</span></span></code></pre></div><p>若希望重装一个软件包，则可以加上 <code>--reinstall</code> 参数：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--reinstall</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gnu-upstream</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--reinstall</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gnu-upstream</span></span></code></pre></div><h3 id="安装源码包" tabindex="-1">安装源码包 <a class="header-anchor" href="#安装源码包" aria-label="Permalink to &quot;安装源码包&quot;">​</a></h3><p>RUYI 包管理器同时管理一些源码包，使用 <code>extract</code> 命令下载一个源码包并解包到当前目录：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">extract</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyisdk-demo</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span></span>
<span class="line"><span style="color:#B392F0;">README.md</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">rvv-autovec</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">extract</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyisdk-demo</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span></span>
<span class="line"><span style="color:#6F42C1;">README.md</span><span style="color:#24292E;">  </span><span style="color:#032F62;">rvv-autovec</span></span></code></pre></div><h3 id="搭建编译环境" tabindex="-1">搭建编译环境 <a class="header-anchor" href="#搭建编译环境" aria-label="Permalink to &quot;搭建编译环境&quot;">​</a></h3><p>已经安装的工具链与模拟器需要在 RUYI 编译环境中使用，这和 python 的虚拟环境十分类似。 这是由 <code>venv</code> 命令实现的：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">venv</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--toolchain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gnu-upstream</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--emulator</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">qemu-user-riscv-upstream</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">generic</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">./ruyi_venv</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">venv</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--toolchain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gnu-upstream</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--emulator</span><span style="color:#24292E;"> </span><span style="color:#032F62;">qemu-user-riscv-upstream</span><span style="color:#24292E;"> </span><span style="color:#032F62;">generic</span><span style="color:#24292E;"> </span><span style="color:#032F62;">./ruyi_venv</span></span></code></pre></div><p>这个命令使用预置的 generic 配置，在 <code>./ruyi_venv</code> 目录建立包含 gnu-upstream 工具链和 qemu-user-riscv-upstream 模拟器的编译环境。</p><p>具体使用参见“编译环境”与“具有 QEMU 支持的编译环境”章节。</p><h3 id="卸载软件包" tabindex="-1">卸载软件包 <a class="header-anchor" href="#卸载软件包" aria-label="Permalink to &quot;卸载软件包&quot;">​</a></h3><p>注意 RUYI 包管理器没有实现卸载 RUYI 软件包的功能。若您强制中断 RUYI 软件包安装进程或做了其他非预期操作 而会导致软件包功能异常时，请使用 <code>install --reinstall</code> 以尝试重试安装该软件包。</p><h3 id="卸载-ruyi-包管理器" tabindex="-1">卸载 RUYI 包管理器 <a class="header-anchor" href="#卸载-ruyi-包管理器" aria-label="Permalink to &quot;卸载 RUYI 包管理器&quot;">​</a></h3><p>使用下面的命令卸载 RUYI 包管理器：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">self</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">uninstall</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">self</span><span style="color:#24292E;"> </span><span style="color:#032F62;">uninstall</span></span></code></pre></div><p>这个命令将会询问您以二次确认该操作，如果希望 RUYI 包管理不询问而直接执行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">self</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">uninstall</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">self</span><span style="color:#24292E;"> </span><span style="color:#032F62;">uninstall</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span></span></code></pre></div><p>上面的命令只是删除 RUYI 本身，并不会删除软件包缓存和安装的 RUYI 软件包。</p><p>如果希望删除所有缓存和安装了的软件包以实现干净的卸载：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">self</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">uninstall</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--purge</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">self</span><span style="color:#24292E;"> </span><span style="color:#032F62;">uninstall</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--purge</span></span></code></pre></div><p>同样的这个命令将会询问您以二次确认该操作，如果希望 RUYI 包管理不询问而直接执行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ruyi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">self</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">uninstall</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--purge</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-y</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ruyi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">self</span><span style="color:#24292E;"> </span><span style="color:#032F62;">uninstall</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--purge</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-y</span></span></code></pre></div><p>实现 RUYI 包管理自身的升级可能会需要超级用户权限，而 RUYI 包管理被设计为避免进行需要超级用户权限的操作。 故在需要升级 RUYI 包管理时您需要手动进行该操作，即首先卸载 RUYI 包管理器，再执行安装 RUYI 包管理器的过程， 这个过程中您可以自主选择是否保留旧的软件包缓存和 RUYI 软件包。</p>`,51),e=[o];function t(c,r,y,E,i,F){return a(),n("div",null,e)}const C=s(p,[["render",t]]);export{u as __pageData,C as default};
