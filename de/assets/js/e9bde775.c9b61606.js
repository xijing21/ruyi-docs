"use strict";(self.webpackChunkruyisdk=self.webpackChunkruyisdk||[]).push([[1667],{10949:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(96540),l=a(74848);const r=e=>{let{disabled:s=!1,variant:a="primary",size:t="md",onClick:r,children:i}=e;const n={primary:{enabled:"bg-amber-400 text-white hover:bg-amber-500 hover:shadow-amber hover:shadow-[0_0_7px_rgba(245,158,11,0.5)]",disabled:"bg-gray-200 text-gray-500"},secondary:{enabled:"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-[0_0_7px_rgba(156,163,175,0.4)]",disabled:"bg-gray-100 text-gray-400"}};return(0,l.jsx)("button",{disabled:s,className:`cursor-pointer rounded-full border-none font-medium transition\n        disabled:cursor-not-allowed disabled:opacity-40 ${{sm:"px-4 py-2 text-sm",md:"px-5 py-3",lg:"px-6 py-4 text-lg"}[t]} ${s?n[a].disabled:n[a].enabled} `,onClick:r,children:(0,l.jsx)("span",{className:"flex items-center gap-2",children:i})})},i=e=>{let{items:s,onClick:a,pageSize:i=10}=e;const[n,d]=(0,t.useState)(!1),[o,c]=(0,t.useState)(0),x=(0,t.useMemo)((()=>Math.ceil(s.length/i)),[s.length,i]),m=(0,t.useMemo)((()=>{const e=o*i,a=e+i;return s.slice(e,a)}),[s,o,i]),b=o>0,h=o<x-1,g=async e=>{if(n)return;const s="next"===e?Math.min(o+1,x-1):Math.max(o-1,0);d(!0),setTimeout((()=>{c(s),setTimeout((()=>{d(!1)}),100)}),100)};return(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"flex flex-col gap-4 transition "+(n?"scale-98":"scale-100"),children:m.map(((e,s)=>(0,l.jsx)("div",{className:`hover:scale-101 cursor-pointer rounded-lg p-6 shadow-md\n            transition duration-200 hover:shadow-lg ${e.active?"bg-blue-500 text-white":"bg-white text-black hover:bg-gray-100"} `,onClick:()=>a(e.link),children:(0,l.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,l.jsx)("span",{className:"text-lg font-semibold",children:e.title}),(0,l.jsx)("span",{className:"whitespace-nowrap text-xs opacity-70",children:new Date(e.date).toLocaleDateString()})]})},`${o}-${s}`)))}),x>1&&(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,l.jsx)(r,{disabled:!b||n,onClick:()=>g("prev"),children:"\u2190 \u4e0a\u4e00\u9875"}),(0,l.jsx)("div",{className:"flex items-center gap-2 rounded-lg bg-gray-100 px-4 py-2",children:(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:[o+1," / ",x]})}),(0,l.jsx)(r,{disabled:!h||n,onClick:()=>g("next"),children:"\u4e0b\u4e00\u9875 \u2192"})]})]})},n=e=>{let{label:s,color:a,borderColor:t,items:r,onClick:i}=e;return(0,l.jsxs)("div",{className:`border-l-solid rounded-lg border-l-4 bg-white p-2 shadow-md\n        ${t}`,children:[(0,l.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,l.jsx)("div",{className:`mr-2 h-2 w-2 rounded-full ${a}`}),(0,l.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:s})]}),(0,l.jsx)("div",{className:"space-y-2",children:r.map(((e,s)=>(0,l.jsx)("div",{className:"flex cursor-pointer items-center justify-between border-l border-transparent pl-3 text-gray-500 transition hover:border-gray-700 hover:text-gray-700",onClick:()=>i(e.link),children:(0,l.jsx)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:e.title})},s)))})]})};var d=a(21312),o=a(31023),c=a(94335);const x=()=>{const[e,s]=(0,t.useState)(!0),[a,r]=(0,t.useState)([]),[x,m]=(0,t.useState)([]),[b,h]=(0,t.useState)([]),g=e=>{window.open(e,"_blank")},p=e=>{const s=Date.now();return(e||[]).filter((e=>{const a=Number(e?.date);return!Number.isFinite(a)||a<=s}))};return(0,t.useEffect)((()=>{(async()=>{try{const e=await c.A.get("/news.json"),{articles:s,ruyinews:a,weeklies:t}=e.data;r(p(s)),m(p(a).slice(0,10)),h(p(t).slice(0,10))}catch(e){console.error("Failed to load data:",e)}finally{s(!1)}})()}),[]),(0,l.jsx)(o.A,{title:"News",description:"RuyiSDK News and Updates",children:(0,l.jsx)("div",{className:"flex min-h-0 flex-1 gap-4 bg-gray-50 p-4",children:e?(0,l.jsx)("p",{className:"text-gray-600",children:"loading..."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"min-w-0 flex-[3]",children:(0,l.jsx)(i,{items:a,onClick:g})}),(0,l.jsxs)("div",{className:"sticky top-20 flex h-fit min-w-0 flex-1 flex-col gap-4",children:[(0,l.jsx)(n,{items:b,label:(0,d.T)({id:"news.biweekly",message:"RuyiSDK \u5468\u62a5"}),color:"bg-blue-500",borderColor:"border-blue-500",onClick:g}),(0,l.jsx)(n,{items:x,label:(0,d.T)({id:"news.news",message:"RuyiSDK \u65b0\u95fb"}),color:"bg-green-500",borderColor:"border-green-500",onClick:g})]})]})})})}}}]);